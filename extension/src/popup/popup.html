<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lume</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <!-- Voice Interaction Button - Only this exists initially -->
  <button class="voice-button" id="voice-button" aria-label="Tap to ask">
    <span class="voice-button-text" id="voice-button-text">Tap to ask</span>
    <div class="bot-icon-container" id="bot-icon-container">
      <svg class="bot-icon" id="bot-icon" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <!-- Bot face (shown in IDLE state) -->
        <circle class="bot-face" cx="20" cy="20" r="18" fill="#5DA9E9" stroke="#4A8BC5" stroke-width="2"/>
        <circle class="bot-eye bot-eye-left" cx="14" cy="18" r="2" fill="#000"/>
        <circle class="bot-eye bot-eye-right" cx="26" cy="18" r="2" fill="#000"/>
        <path class="bot-mouth" d="M 14 24 Q 20 28 26 24" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>
        <circle class="bot-antenna" cx="20" cy="6" r="3" fill="#5DA9E9" stroke="#4A8BC5" stroke-width="1"/>
      </svg>
      
      <!-- Waveform Canvas (shown in LISTENING state) -->
      <canvas class="waveform-canvas" id="waveform-canvas" width="40" height="40"></canvas>
      
      <!-- Loading Spinner (shown in THINKING state) -->
      <svg class="loading-spinner" id="loading-spinner" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <circle cx="20" cy="20" r="18" fill="none" stroke="#5DA9E9" stroke-width="2" stroke-dasharray="28" stroke-dashoffset="28">
          <animate attributeName="stroke-dasharray" dur="1.5s" values="0,113;56.5,56.5;0,113;0,113" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" dur="1.5s" values="0;-56.5;-113;-113" repeatCount="indefinite"/>
        </circle>
      </svg>
    </div>
  </button>

  <script src="../scripts/speech-service.js"></script>
  <script src="waveform.js"></script>
  <script src="popup.js"></script>
</body>
</html>
